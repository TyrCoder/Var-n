
<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>Seller Sign Up — Varón</title>
		<style>
			:root {
				--bg: #ffffff;
				--fg: #0a0a0a;
				--muted: #6b7280;
				--card: #ffffff;
				--line: #e5e7eb;
				--accent: #111827;
				--error: #ef4444;
				--success: #10b981;
			}

			html, body {
				height: 100%;
				margin: 0;
				font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
				color: var(--fg);
				background: #f9fafb;
				line-height: 1.5;
			}

			.layout {
				display: grid;
				grid-template-columns: 1fr 480px;
				min-height: 100vh;
				align-items: center;
				background: linear-gradient(135deg, #f3f4f6 0%, #ffffff 100%);
			}

			.left {
				padding: 64px 80px;
			}

			.brand {
				display: flex;
				align-items: center;
				gap: 14px;
				font-weight: 700;
				font-size: 22px;
				color: var(--accent);
			}

			.hero-title {
				font-size: 42px;
				color: var(--accent);
				margin: 24px 0 16px;
				line-height: 1.2;
			}

			.hero-sub {
				color: var(--muted);
				max-width: 520px;
				font-size: 16px;
				margin: 0;
			}

			.illustration {
				margin-top: 40px;
				max-width: 480px;
				border-radius: 16px;
				box-shadow: 0 20px 40px rgba(0,0,0,0.1);
			}

			.card-wrap {
				display: flex;
				justify-content: center;
				padding: 48px;
				background: #ffffff;
				height: 100%;
			}

			.card {
				width: 100%;
				max-width: 400px;
				background: var(--card);
				border-radius: 16px;
				box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.05);
				padding: 32px;
			}

			.card h2 {
				margin: 0 0 8px;
				font-size: 24px;
				color: var(--accent);
			}

			.sub {
				color: var(--muted);
				margin-bottom: 28px;
				font-size: 15px;
			}

			.alert {
				padding: 12px;
				margin-bottom: 20px;
				border-radius: 8px;
			}

			.alert-error {
				background: #fee2e2;
				color: #991b1b;
			}

			.alert-success {
				background: #dcfce7;
				color: #15803d;
			}

			.form-group {
				margin-bottom: 20px;
			}

			.form-group label {
				display: block;
				font-size: 14px;
				font-weight: 500;
				color: var(--accent);
				margin-bottom: 8px;
			}

			.form-input {
				width: 100%;
				padding: 12px 16px;
				border: 1px solid var(--line);
				border-radius: 8px;
				background: #fff;
				font-size: 15px;
				transition: all 0.2s;
				box-sizing: border-box;
			}

			.form-input:hover {
				border-color: #d1d5db;
			}

			.form-input:focus {
				outline: none;
				border-color: var(--accent);
				box-shadow: 0 0 0 2px rgba(17,24,39,0.1);
			}

			.tnc-row {
				display: flex;
				align-items: center;
				gap: 12px;
				margin: 24px 0;
			}

			.tnc-row input[type="checkbox"] {
				width: 18px;
				height: 18px;
				accent-color: var(--accent);
				border-radius: 4px;
				cursor: pointer;
			}

			.tnc-row label {
				font-size: 14px;
				color: var(--muted);
				cursor: pointer;
			}

			.tnc-row a {
				color: var(--accent);
				text-decoration: none;
				font-weight: 500;
			}

			.tnc-row a:hover {
				text-decoration: underline;
			}

			.btn {
				display: inline-block;
				width: 100%;
				padding: 14px;
				border-radius: 8px;
				border: 0;
				background: var(--accent);
				color: #fff;
				font-weight: 600;
				font-size: 15px;
				cursor: pointer;
				transition: all 0.2s;
			}

			.btn:hover {
				background: #000000;
				transform: translateY(-1px);
			}

			.btn:active {
				transform: translateY(0);
			}

			.small-note {
				font-size: 14px;
				color: var(--muted);
				margin-top: 20px;
				text-align: center;
			}

			.small-note a {
				color: var(--accent);
				text-decoration: none;
				font-weight: 500;
			}

			.small-note a:hover {
				text-decoration: underline;
			}

			@media (max-width: 1024px) {
				.layout {
					grid-template-columns: 1fr;
				}

				.left {
					padding: 40px;
					text-align: center;
				}

				.hero-sub {
					margin: 0 auto;
				}

				.illustration {
					margin: 32px auto;
				}

				.card-wrap {
					padding: 32px 24px;
				}
			}
		</style>
	</head>
	<body>
		<div class="layout">
			<div class="left">
				<div class="brand"><img src="" alt="" style="width:34px;height:34px;border-radius:6px;background:#efefef"> Varón Seller</div>
				<h1 class="hero-title">Be a Power Seller</h1>
				<p class="hero-sub">Manage your shop efficiently on Varón. Create a seller account to list products, manage orders and grow your business.</p>
				<img class="illustration" alt="shop illustration" src="https://images.unsplash.com/photo-1542831371-d531d36971e6?q=80&w=800&auto=format&fit=crop" style="width:100%;border-radius:12px;object-fit:cover">
			</div>

			<div class="card-wrap">
				<div class="card" role="region" aria-label="Seller signup form">
					<h2>Sign up to sell</h2>
					<div class="sub">Create your seller account — fast and simple.</div>

					<form id="sellerSignup" action="/signupSeller" method="POST" novalidate>
						<div id="errorDisplay" class="alert alert-error" style="display: none"></div>
					<div class="form-group">
						<label for="shopName">Brand name</label>
						<input id="shopName" name="shop_name" class="form-input" type="text" placeholder="My Brand" required />
					</div>

					<div class="form-group">
						<label for="shopDescription">Brand description</label>
						<textarea id="shopDescription" name="shop_description" class="form-input" placeholder="Tell customers about your brand (e.g., products you sell, specialties, mission)" style="min-height: 80px; resize: vertical;"></textarea>
						<small style="color:#666;font-size:12px;margin-top:4px;display:block;">This helps customers learn more about your brand</small>
					</div>

					<div class="form-group">
						<label for="sellerEmail">Email address</label>
						<input id="sellerEmail" name="email" class="form-input" type="email" placeholder="you@business.com" required />
						<small style="color:#666;font-size:12px;margin-top:4px;display:block;">Enter a unique email address for your seller account</small>
					</div>

					<div class="form-group">
						<label for="sellerPhone">Contact number</label>
						<input id="sellerPhone" name="phone" class="form-input" type="tel" value="+63 " placeholder="+63 9xx xxx xxxx" pattern="[0-9\+\-\s]{7,20}" required />
					</div>

					<div class="form-group">
						<label for="sellerPassword">Create password</label>
						<div style="position: relative;">
							<input id="sellerPassword" name="password" class="form-input" type="password" placeholder="At least 6 characters with letters and numbers" minlength="6" required style="padding-right: 45px;" />
							<button type="button" onclick="togglePasswordVisibility('sellerPassword', 'toggleSellerPassword')" id="toggleSellerPassword" style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; padding: 0; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center;">
								<svg id="toggleSellerPasswordIcon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #6b7280;">
									<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
									<circle cx="12" cy="12" r="3"></circle>
								</svg>
							</button>
						</div>
						<small style="color:#666;font-size:12px;margin-top:4px;display:block;">Must be at least 6 characters with both letters and numbers</small>
					</div>

					<div class="form-group">
						<label for="sellerConfirmPassword">Confirm password</label>
						<div style="position: relative;">
							<input id="sellerConfirmPassword" name="confirm_password" class="form-input" type="password" placeholder="Re-enter your password" minlength="6" required style="padding-right: 45px;" />
							<button type="button" onclick="togglePasswordVisibility('sellerConfirmPassword', 'toggleSellerConfirmPassword')" id="toggleSellerConfirmPassword" style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; padding: 0; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center;">
								<svg id="toggleSellerConfirmPasswordIcon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #6b7280;">
									<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
									<circle cx="12" cy="12" r="3"></circle>
								</svg>
							</button>
						</div>
					</div>

					<div class="tnc-row">
						<input id="sellerTnc" name="tnc" type="checkbox" required />
						<label for="sellerTnc">I agree to the <a href="/terms" target="_blank">Terms &amp; Conditions</a></label>
					</div>

						<button type="submit" class="btn">Create seller account</button>

						<div class="small-note muted">Already have an account? <a href="/login">Log in</a></div>
					</form>
				</div>
			</div>
		</div>

		<script>

			function showNotification(message, type = 'error') {
				const notification = document.createElement('div');
				notification.style.cssText = `
					position: fixed;
					top: 20px;
					right: 20px;
					padding: 16px 24px;
					background: ${type === 'error' ? '#ef4444' : '#10b981'};
					color: white;
					border-radius: 8px;
					box-shadow: 0 4px 12px rgba(0,0,0,0.15);
					font-size: 14px;
					font-weight: 500;
					z-index: 10000;
					animation: slideIn 0.3s ease;
					max-width: 400px;
				`;
				notification.textContent = message;
				document.body.appendChild(notification);

				setTimeout(() => {
					notification.style.animation = 'slideOut 0.3s ease';
					setTimeout(() => notification.remove(), 300);
				}, 4000);
			}

			// Add CSS animations
			const notifStyle = document.createElement('style');
			notifStyle.textContent = `
				@keyframes slideIn {
					from { transform: translateX(400px); opacity: 0; }
					to { transform: translateX(0); opacity: 1; }
				}
				@keyframes slideOut {
					from { transform: translateX(0); opacity: 1; }
					to { transform: translateX(400px); opacity: 0; }
				}
			`;
			document.head.appendChild(notifStyle);

			function togglePasswordVisibility(inputId, buttonId) {
				const input = document.getElementById(inputId);
				const icon = document.getElementById(buttonId + 'Icon');
				if (input.type === 'password') {
					input.type = 'text';

					icon.innerHTML = '<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><line x1="1" y1="1" x2="23" y2="23" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></line>';
				} else {
					input.type = 'password';

					icon.innerHTML = '<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></circle>';
				}
			}


			const sellerPhoneInput = document.getElementById('sellerPhone');
			sellerPhoneInput.addEventListener('input', function(e) {
				let value = e.target.value;

				if (!value.startsWith('+63')) {
					value = '+63 ' + value.replace(/^\+63\s*/, '');
					e.target.value = value;
				}

				if (value.length < 4) {
					e.target.value = '+63 ';
				}
			});

			sellerPhoneInput.addEventListener('keydown', function(e) {

				if (e.key === 'Backspace' && e.target.selectionStart <= 4) {
					e.preventDefault();
				}
			});

			document.getElementById('sellerSignup').addEventListener('submit', function(e) {
				e.preventDefault();
				const form = e.target;
				const formData = new FormData(form);


				const email = formData.get('email');
				const password = formData.get('password');
				const confirmPassword = formData.get('confirm_password');
				const phone = formData.get('phone');
				const shopName = formData.get('shop_name');
				const tnc = formData.get('tnc');


				let errorDiv = document.getElementById('errorDisplay');
				if (!errorDiv) {
					errorDiv = document.createElement('div');
					errorDiv.id = 'errorDisplay';
					errorDiv.className = 'alert alert-error';
					errorDiv.style.cssText = 'padding: 12px; margin-bottom: 20px; border-radius: 8px; background: #fee2e2; color: #991b1b;';
					form.insertBefore(errorDiv, form.firstChild);
				}
				errorDiv.style.display = 'none';


				if (!email || !password || !confirmPassword || !phone || !shopName) {
					errorDiv.textContent = 'All fields are required';
					errorDiv.style.display = 'block';
					return;
				}


				if (!tnc) {
					alert('Please agree to the Terms & Conditions to continue');
					return;
				}


				if (!email.includes('@') || !email.includes('.')) {
					errorDiv.textContent = 'Please enter a valid email address';
					errorDiv.style.display = 'block';
					return;
				}


				const cleanPhone = phone.replace(/[\+\-\s]/g, '');
				if (!cleanPhone.match(/^\d+$/)) {
					errorDiv.textContent = 'Please enter a valid phone number';
					errorDiv.style.display = 'block';
					return;
				}


				if (password !== confirmPassword) {
					errorDiv.textContent = 'Passwords do not match';
					errorDiv.style.display = 'block';
					return;
				}


				const passwordRegex = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;
				if (!passwordRegex.test(password)) {
					errorDiv.textContent = 'Password must be at least 6 characters and contain both letters and numbers';
					errorDiv.style.display = 'block';
					return;
				}


				const submitBtn = form.querySelector('button[type="submit"]');
				const originalText = submitBtn.textContent;
				submitBtn.disabled = true;
				submitBtn.textContent = 'Sending OTP...';


				fetch('/signupSeller', {
					method: 'POST',
					body: formData
				})
				.then(response => response.json())
				.then(data => {
					if (data.success) {
						showNotification('✅ Seller account created! Redirecting to verification...', 'success');
						setTimeout(() => {
							window.location.href = data.redirect;
						}, 1500);
					} else {

						if (data.message && (data.message.includes('email') || data.message.includes('Email') || 
							data.message.includes('phone') || data.message.includes('Phone number'))) {
							showNotification(data.message, 'error');
						} else {
							errorDiv.textContent = data.message;
							errorDiv.style.display = 'block';
						}
						submitBtn.disabled = false;
						submitBtn.textContent = originalText;
					}
				})
				.catch(error => {
					errorDiv.textContent = 'An error occurred. Please try again later.';
					errorDiv.style.display = 'block';
					console.error('Error:', error);
					submitBtn.disabled = false;
					submitBtn.textContent = originalText;
				});
			});
		</script>
	</body>
</html>

